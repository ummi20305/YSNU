<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    
    <link rel="stylesheet" href="style.css">

    <header>
        <h1>United Prosperity Planet</h1>
        <img src="logo.png" title = "United Prosperity World Logo" class="logo">  
        <nav class="navbar">
             <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="content_ST1.html">Contents Page</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="feedback.html">Feedback</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="pageEditor_ST2.html"> Page Editor </a></li>
                <li><a href="profile.html"> User Profile</a></li>
                <li><a href="team.html">Team</a></li>
                <li><a href="sitemap.html">Sitemap</a></li>
            </ul>
        </nav>
    </header>

    <style>

        #progress-container { /* container used to conatin both bar and text together */
            width: 50%;
            margin: 0 auto; 
            border: 2px solid #ffffff;
            border-radius: 5px; 
            padding: 10px;
        }

        #progress-bar {
            background-color: #00ff08; /* sets backround colour of the progress bar */
            height: 20px; /* sets height of the bar */
            border-radius: 10px; /* sets radious around border which round the edges */
            width: 0;
            margin-top: 200px; /* adds margin at the bottom */
            border: 1px solid #000000; /* adds a border around the progress bar */
        }

        #progress-text {
            text-align: center; /* centers the text in the middle of the screen */
            margin-top: 15px; /* adds space at the top between the top and the text*/
        }

        #edit-personaldetails-button,
        #edit-backrounddetails-button, /* css styling for all the buttons */
        #edit-contactdetails-button {
            border-radius: 30px;
            background-color: #00ff62;
            height: 30px;
            margin-left: 100px; 
            margin-top: 150px; /* creates space between top and the buttons */
        }

    </style>
</head>
<body>
    <p>User Profile</p>
    <p>Press OK for next question</p> <!-- displays the text in the p tags -->
    <p>Press Cancel to skip question</p>

    <div id="progress-container"> <!-- displays the progress bar and text -->
        <div id="progress-bar"></div>
        <div id="progress-text">0%</div>
    </div>
    <button id="edit-personaldetails-button">Edit Personal Details</button> <!-- displays button -->
    <button id="edit-backrounddetails-button">Edit Backround Details</button> <!-- displays button -->
    <button id="edit-contactdetails-button">Edit Contact Details</button> <!-- displays button -->
    <div id="user-details"></div>

<script>
    let progress = 0.00; // sets progress to 0 intially as a decimal 

    let set1NumOfAnswerCounter = 0
    let set2NumOfAnswerCounter = 0 // used to count the num of answers in each sets arrays
    let set3NumOfAnswerCounter = 0

    let userDetailsSet1 = [];
    let userDetailsSet2 = []; // arrays for each sets data
    let userDetailsSet3 = [];


    function updateProgress() {
        progress += 11.11; // adds 11.11 to progress
        if (progress > 100) {
            progress = 100; // makes sure percentage doesnt increase over 100
        }
        else if (progress == 99.99) {
            progress = 100;
        }

        document.getElementById("progress-bar").style.width = progress + "%";
        document.getElementById("progress-text").textContent = progress + "%";
    }

    function promptName() {
        let name = prompt("Step-1 (1/3) Please enter your name:", ""); // creates variable name and assings input to it
        if (name !== null && name !== "") {
            userDetailsSet1.push("Name: " + name); // stores user input in array
            set1NumOfAnswerCounter += 1;
            if (set1NumOfAnswerCounter < 4) {
                updateProgress(); // calls updateprogress to update progress bar
            }
            setTimeout(promptAge, 100); // displays after 100ms
        } else {
            setTimeout(promptAge, 100); // if user skips, next question is displayed an progress not updated
        }
    }

    function promptAge() {
        let age = prompt("Step-1 (2/3) Please enter your age:", "");
        if (age !== null && age !== "") { // makes sure that input cant be empty or when cancel pressed the progress doesnt increase
            userDetailsSet1.push("Age: " + age);
            set1NumOfAnswerCounter += 1;
            if (set1NumOfAnswerCounter < 4) {
                updateProgress(); // calls updateprogress to update progress bar
            }
            setTimeout(promptGender, 100); // displays after 100ms and allows for a pause to let bar update
        } else {
            setTimeout(promptGender, 100);  
        }
    }

    function promptGender() {
        let gender = prompt("Step-1 (3/3) Please enter your gender:", "")
        if (gender !== null && gender !== "") { // makes sure that input cant be empty or when cancel pressed the progress doesnt increase
            userDetailsSet1.push("Gender: " + gender);
            set1NumOfAnswerCounter += 1;
            if (set1NumOfAnswerCounter < 4) { // if 3 answers already in the array then progress bar wont increase to prevent one set going over 33.33% each
                updateProgress(); // calls updateprogress to update progress bar
            }
            displaySet1Info();
        } else {
            displaySet1Info();
        }
          
    }


    function promptAware() {
        let aware = prompt("Step-2 (1/3) Were you previously aware of this cause before?:", ""); // creates variable name and assings input to it
        if (aware !== null && aware !== "") {
            userDetailsSet2.push("aware of cause previously?: " + aware); // stores user input in array
            set2NumOfAnswerCounter += 1;
            if (set2NumOfAnswerCounter < 4) {
                updateProgress(); // calls updateprogress to update progress bar
            }
            setTimeout(promptPrevDonation, 100); // displays after 100ms
        } else {
            setTimeout(promptPrevDonation, 100); // if user skips, next question is displayed an progress not updated
        }
    }

    function promptPrevDonation() {
        let prevdono = prompt("Step-2 (2/3) Have you previously donated?:", "");
        if (prevdono !== null && prevdono !== "") { // makes sure that input cant be empty or when cancel pressed the progress doesnt increase
            userDetailsSet2.push("previously donated?: " + prevdono);
            set2NumOfAnswerCounter += 1;
            if (set2NumOfAnswerCounter < 4) {
                updateProgress(); // calls updateprogress to update progress bar
            }
            setTimeout(promptInterest, 100); // displays after 100ms and allows for a pause to let bar update
        } else {
            setTimeout(promptInterest, 100);  
        }
    }

    function promptInterest() {
        let interest= prompt("Step-2 (3/3) Are you interested in making a donation?:", "")
        if (interest !== null && interest !== "") { // makes sure that input cant be empty or when cancel pressed the progress doesnt increase
            userDetailsSet2.push("interested in donating?: " + interest);
            set2NumOfAnswerCounter += 1;
            if (set2NumOfAnswerCounter < 4) {
                updateProgress(); // calls updateprogress to update progress bar
            }
            displaySet2Info();
        } else {
            displaySet2Info();
        }
          
    }

    function promptPostcode() {
        let postcode = prompt("Step-3 (1/3) Please enter your postcode:", ""); // creates variable name and assings prompts input to it 
        if (postcode !== null && postcode !== "") {
            userDetailsSet3.push("Postcode: " + postcode); // stores user input in array
            set3NumOfAnswerCounter += 1;
            if (set3NumOfAnswerCounter < 4) {
                updateProgress(); // calls updateprogress to update progress bar
            }
            setTimeout(promptPhoneNumber, 100); // displays after 100ms
        } else {
            setTimeout(promptPhoneNumber, 100); // if user skips, next question is displayed an progress not updated
        }
    }

    function promptPhoneNumber() {
        let phonenum = prompt("Step-3 (2/3) Please enter your phone number:", "");
        if (phonenum !== null && phonenum !== "") { // makes sure that input cant be empty or when cancel pressed the progress doesnt increase
            userDetailsSet3.push("Phone Number: " + phonenum);
            set3NumOfAnswerCounter += 1;
            if (set3NumOfAnswerCounter < 4) {
                updateProgress(); // calls updateprogress to update progress bar
            }
            setTimeout(promptEmail, 100); // displays after 100ms and allows for a pause to let bar update
        } else {
            setTimeout(promptEmail, 100);  
        }
    }

    function promptEmail() {
        let email = prompt("Step-3 (3/3) Please enter your email:", "")
        if (email !== null && email !== "") { // makes sure that input cant be empty or when cancel pressed the progress doesnt increase
            userDetailsSet3.push("Email: " + email);
            set3NumOfAnswerCounter += 1;
            if (set3NumOfAnswerCounter < 4) {
                updateProgress(); // calls updateprogress to update progress bar
            }
            displayAllInfo();
        } else {
            displayAllInfo();
        }
          
    }


    function displaySet1Info() {
        let userDetailsElement = document.getElementById("user-details"); // user detail is selected and stored in variable
        userDetailsElement.innerHTML = "<p>User Details:</p>"; // assings a paragrapgh to the variable
        userDetailsSet1.forEach(function(detail) { // iterates through the entire of the first sets array
        userDetailsElement.innerHTML += "<p>" + detail + "</p>"; // concatonates each "detail" which is each input, to the paragrapgh to display it
    });

    setTimeout(function() { // used to remove details off screen after set amount of time
        userDetailsElement.innerHTML = ""; // clears the innerhtml of userdetailselement so all data on screen is removed
    }, 5000); // 5000ms delay is 5 seconds allowing user to view data entered before dissapearing
    }

    function displaySet2Info() {
        let userDetailsElement = document.getElementById("user-details"); // user detail is selected and stored in variable
        userDetailsElement.innerHTML = "<p>User Details:</p>"; // assings a paragrapgh to the variable
        userDetailsSet2.forEach(function(detail) { // iterates through the entire of the second sets array
        userDetailsElement.innerHTML += "<p>" + detail + "</p>"; // concatonates each "detail" which is each input, to the paragrapgh to display it
    });

    setTimeout(function() { // used to remove details off screen after set amount of time
        userDetailsElement.innerHTML = ""; // clears the innerhtml of userdetailselement
    }, 5000); // 5000ms delay is 5 seconds
    }

    function displayAllInfo() {
        let userDetailsElement = document.getElementById("user-details"); // user detail is selected and stored in variable
        userDetailsElement.innerHTML = "<p>User Details:</p>"; // assings a paragrapgh to the variable
        userDetailsSet1.forEach(function(detail) { // iterates through the entire of the third sets array
        userDetailsElement.innerHTML += "<p>" + detail + "</p>"; // concatonates each "detail" which is each input, to the paragrapgh to display it
    });
        userDetailsSet2.forEach(function(detail) {
        userDetailsElement.innerHTML += "<p>" + detail + "</p>";
    });
        userDetailsSet3.forEach(function(detail) {
        userDetailsElement.innerHTML += "<p>" + detail + "</p>";
    });

    setTimeout(function() { // used to remove details off screen after set amount of time
        userDetailsElement.innerHTML = ""; // clears the innerhtml of userdetailselement 
    }, 15000); // 15000ms delay is 15 seconds
    }


    document.getElementById("edit-personaldetails-button").addEventListener("click", function() { // waits for click to then begin the prompts
        userDetailsSet1 = []; // everytime the button is clicked the array is cleared so old data is removed so new data (edited) is added
        promptName(); // calls promptname when the button is clicked to start chain of questions for set 1
    });

    document.getElementById("edit-backrounddetails-button").addEventListener("click", function() {
        userDetailsSet2 = [];
        promptAware(); // calls promptaware when the button is clicked
    });

    document.getElementById("edit-contactdetails-button").addEventListener("click", function() {
        userDetailsSet3 = [];
        promptPostcode(); // calls promptpostcode when the button is clicked
    });

</script>
    
    
</body>
</html>
